<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>乡村振兴智能体分析平台</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css">
    <!-- 添加jQuery库 -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- 添加Swiper库 -->
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <style>
        :root {
            --primary-blue: #0a2342;
            --secondary-blue: #126872;
            --highlight-blue: #2a93d5;
            --accent-light: #75c9c8;
            --text-light: #e3f6f5;
        }

        body {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            min-height: 100vh;
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        .chart-container {
            position: relative;
            margin: auto;
            height: 280px;
            width: 100%;
        }

        .typing-effect::after {
            content: '|';
            animation: blink 1s infinite;
        }

        @keyframes blink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0;
            }
        }

        .pulse-animation {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(42, 147, 213, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(42, 147, 213, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(42, 147, 213, 0);
            }
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--highlight-blue);
            border-radius: 10px;
        }

        .chat-input-area {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .data-table th {
            background-color: rgba(42, 147, 213, 0.4);
        }

        .data-table tr:nth-child(even) {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .data-table tr:hover {
            background-color: rgba(42, 147, 213, 0.2);
        }

        .header-glow {
            text-shadow: 0 0 10px rgba(117, 201, 200, 0.8);
        }

        .chart-tab.active {
            border-bottom: 3px solid var(--highlight-blue);
            color: white;
        }

        .loader {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--highlight-blue);
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.8s;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .dashboard-card {
            transition: all 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .btn-glow:hover {
            box-shadow: 0 0 15px var(--accent-light);
        }
    </style>
</head>

<body class="bg-blue-900">
    <!-- navbar -->
    <style>
        /* 基础样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
        }

        /* 列表样式 - 隐藏原点 */
        ul,
        li {
            list-style: none;
        }

        /* 头部样式 */
        .header {
            position: fixed;
            width: 100%;
            z-index: 100;
            left: 0;
            top: 0;
            background-color: #043e6b;
            background-opacity: 0.8;
            height: 140px;
            transition: all 0.4s ease-in-out;
        }

        .header.translate-y-140 {
            transform: translateY(-140px);
        }

        .headerbox {
            width: 1300px;
            margin: 0 auto;
            position: relative;
        }

        /* Logo样式 */
        .logo {
            width: 155px;
            float: left;
            padding-top: 39px;
        }

        .logo img {
            width: 100%;
        }

        /* 移动端菜单按钮 */
        .dhbnt {
            position: absolute;
            right: 3%;
            top: 15px;
            width: 30px;
            height: 30px;
            background-image: url('../images/d1.png');
            background-repeat: no-repeat;
            background-position: center;
            background-size: 20px 20px;
        }

        .dhbnt.on {
            background-image: url('../images/d2.png');
        }

        /* 导航菜单 */
        .nav {
            position: fixed;
            top: 60px;
            width: 200px;
            height: calc(100% - 60px);
            background-color: #033c67;
            left: -200px;
            transition: all 0.3s;
        }

        .nav.open {
            left: 0;
        }

        /* 导航菜单项 */
        .nav ul li {
            width: 100%;
            float: none;
            color: #b7c6d4;
            line-height: 50px;
            border-bottom: 1px solid #022e4e;
        }

        .nav ul li a {
            display: block;
            padding: 0 20px;
            color: #b7c6d4;
            width: 100%;
            text-decoration: none;
        }

        .nav ul li a:hover {
            color: white;
            font-weight: bold;
        }

        .nav ul li b {
            display: none;
        }

        /* 子菜单 */
        .sub {
            display: none;
            width: 100%;
            background-color: #043e6b;
            background-opacity: 0.8;
            z-index: 100;
        }

        .sub dl {
            overflow: hidden;
        }

        .sub dl dt {
            width: 100%;
        }

        .sub dl dt a {
            display: block;
            font-size: 20px;
            color: white;
            font-weight: normal;
            opacity: 0.7;
            white-space: nowrap;
        }

        .sub dl dt a:hover {
            opacity: 1;
        }

        .sub dl dt a img {
            display: inline-block;
            vertical-align: middle;
            margin-top: -3px;
            margin-right: 15px;
            transition: all 0.4s ease-in-out;
        }

        .sub dl dt a img:hover {
            background-color: white;
            opacity: 0.2;
        }

        /* 子菜单特殊样式 */
        .sub1 {
            width: 100%;
        }

        /* 媒体查询 - 桌面端 */
        @media (min-width: 768px) {

            /* 导航菜单 */
            .nav {
                position: static;
                float: right;
                width: auto;
                height: auto;
                background-color: transparent;
                top: auto;
            }

            .dhbnt {
                display: none;
            }

            .nav ul {
                display: flex;
            }

            .nav ul li {
                float: left;
                font-size: 20px;
                line-height: 140px;
                border: none;
                width: auto;
            }

            .nav ul li a {
                display: inline-block;
                padding: 0 52px;
                letter-spacing: 10px;
                width: auto;
            }

            .nav ul li b {
                display: inline;
            }

            /* 子菜单桌面样式 */
            .sub {
                position: absolute;
                width: 100%;
                text-align: center;
                top: 140px;
                left: 0;
            }

            .sub dl dt {
                width: 20%;
                text-align: center;
                float: left;
                padding: 15px 0;
            }

            .sub dl dt a {
                white-space: nowrap;
                overflow: visible;
                text-overflow: clip;
            }

            /* 联系子菜单特殊样式 */
            .sub1 {
                position: absolute;
                width: 610px;
                right: 0;
                left: auto;
            }

            .sub1 dl dt {
                width: 50%;
            }
        }

        /* 遮罩层 */
        .mask {
            position: fixed;
            width: 100%;
            height: 100%;
            background-color: black;
            opacity: 0.7;
            top: 0;
            left: 0;
            z-index: 105;
        }
    </style>
    <div class="header">
        <div class="headerbox">
            <h1 class="logo"><a href="/"><img src="/uploads/20220506/png/1da06e9099375f3d4d63a17c89afecc8.png" /></a>
            </h1>
            <div class="dhbnt"></div>
            <div class="nav">
                <ul>
                    <li class="m on"><a href="/">首页</a><b>|</b></li>
                    <li class="m">
                        <a href="javascript:void(0);">平台</a><b>|</b>
                        <div class="sub">
                            <dl>
                                <dt><a href="/jingji.html"><img src="/index/images/ta_177.png" />智慧经济</a></dt>
                                <dt><a href="/chanye.html"><img src="/index/images/ta_178.png" />智慧产业</a></dt>
                                <dt><a href="/shouru.html"><img src="/index/images/ta_179.png" />智慧收入</a></dt>
                                <dt><a href="/zhushou.html"><img src="/index/images/ta_180.png" />智慧助手</a></dt>
                                <dt><a href="/analysis.html"><img src="/index/images/ta_180.png" />数据分析</a></dt>
                            </dl>
                        </div>
                    </li>
                    <!--                <li ><a href="/platform">平台</a><b>|</b></li>-->
                    <li><a href="/news">资讯</a><b>|</b></li>
                    <li><a href="/cooperation">合作</a><b>|</b></li>
                    <li class="m">
                        <a href="javascript:void(0);">联系</a>
                        <div class="sub sub1">
                            <dl>
                                <dt><a href="/contactus.html"><img src="/index/images/ta_215.png" />联系我们</a></dt>
                                <dt><a href="/enter.html"><img src="/index/images/ta_214.png" />关于我们</a></dt>
                            </dl>
                        </div>
                    </li>
                    <!--<li ><a href="/contactus">联系</a></li>-->
                </ul>
            </div>
        </div>
    </div>
    <script>
        $(function () {
            // 添加导航按钮点击事件
            $(".dhbnt").click(function () {
                $(this).toggleClass("on");
                if ($(this).hasClass("on")) {
                    $(".nav").animate({ left: "0" }, 300);
                } else {
                    $(".nav").animate({ left: "-200px" }, 300);
                }
            });

            // 子菜单点击展开（移动端更适合点击而非hover）
            $(".m > a").click(function (e) {
                if ($(window).width() <= 750) {
                    e.preventDefault();
                    $(this).next(".sub").slideToggle(300);
                }
            });

            // 电脑端hover展开
            if ($(window).width() > 750) {
                $(".m").hover(function () {
                    $(this).find(".sub").stop().slideDown(300);
                }, function () {
                    $(this).find(".sub").stop().slideUp(300);
                });
            }

            // 处理滚动效果
            let prevScrollPos = window.scrollY;
            $(window).scroll(function () {
                const currentScrollPos = window.scrollY;

                // 处理导航栏隐藏/显示
                if (prevScrollPos <= currentScrollPos) {
                    $(".header").addClass("translate-y-140");
                } else {
                    $(".header").removeClass("translate-y-140");
                }

                // 根据滚动位置调整背景透明度
                if (currentScrollPos > 100) {
                    $(".header").css("background-opacity", "0.8");
                } else {
                    $(".header").css("background-opacity", "1");
                }

                prevScrollPos = currentScrollPos;
            });

            var screenWidth = $(window).width();
            if (screenWidth > 750) {
                var swiper1 = new Swiper(".banner .mySwiper", {
                    spaceBetween: 0,
                    centeredSlides: true,
                    loop: true,
                    speed: 1400,
                    autoplay: {
                        delay: 13000,
                        stopOnLastSlide: false,
                        disableOnInteraction: true,
                    },
                    pagination: {
                        el: ".banner .swiper-pagination",
                        clickable: true,
                    }
                });
            } else {
                var swiper1 = new Swiper(".banner .mySwiper", {
                    spaceBetween: 0,
                    centeredSlides: true,
                    loop: true,
                    speed: 1400,
                    autoplay: true,
                    pagination: {
                        el: ".banner .swiper-pagination",
                        clickable: true,
                    },
                });
            }
        })
    </script>
    <div style="height: 140px;"></div>
    <nav class="bg-opacity-50 bg-blue-800 backdrop-filter backdrop-blur-lg shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <i class="fas fa-robot text-3xl text-blue-300"></i>
                    </div>
                    <div class="ml-4">
                        <h1 class="text-xl font-bold text-white header-glow">乡村振兴智能体分析平台</h1>
                    </div>
                </div>
                <div class="flex space-x-4">
                    <button
                        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-all btn-glow">
                        数据导入
                    </button>
                    <button
                        class="bg-transparent border border-blue-300 text-blue-300 hover:bg-blue-800 hover:text-white px-4 py-2 rounded-md text-sm font-medium transition-all">
                        <i class="fas fa-cog mr-2"></i>设置
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 gap-6 mb-8">
            <div class="glass-effect p-6 fade-in">
                <div class="flex items-center mb-4">
                    <div
                        class="h-8 w-8 rounded-full bg-gradient-to-r from-blue-400 to-teal-400 flex items-center justify-center mr-3">
                        <i class="fas fa-chart-line text-white"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-white">数据分析结果</h2>
                </div>

                <div class="mb-6">
                    <div class="mb-4">
                        <h3 class="text-lg font-medium text-blue-300 mb-2">碧水村发展分析报告</h3>
                        <div id="analysis-text" class="text-gray-200 leading-relaxed"></div>
                        <div id="analysis-loader" class="loader mt-4"></div>
                    </div>
                </div>
            </div>

            <div id="data-display" class="glass-effect p-6 hidden fade-in">
                <div class="flex items-center mb-4">
                    <div
                        class="h-8 w-8 rounded-full bg-gradient-to-r from-blue-400 to-teal-400 flex items-center justify-center mr-3">
                        <i class="fas fa-database text-white"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-white">原始数据</h2>
                </div>

                <div class="overflow-x-auto">
                    <table class="min-w-full data-table">
                        <thead>
                            <tr>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                                    指标类别</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                                    指标名称</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                                    2021年</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                                    2022年</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-white uppercase tracking-wider">
                                    2023年</th>
                            </tr>
                        </thead>
                        <tbody class="bg-opacity-10 bg-white">
                            <!-- 经济发展水平 -->
                            <tr>
                                <td rowspan="4" class="px-4 py-3">经济发展水平</td>
                                <td class="px-4 py-3">地区生产总值(亿元)</td>
                                <td class="px-4 py-3">42.8</td>
                                <td class="px-4 py-3">45.6</td>
                                <td class="px-4 py-3">49.7</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">农林牧渔业增加值(亿元)</td>
                                <td class="px-4 py-3">15.2</td>
                                <td class="px-4 py-3">16.4</td>
                                <td class="px-4 py-3">17.8</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">社会消费品零售总额(亿元)</td>
                                <td class="px-4 py-3">18.5</td>
                                <td class="px-4 py-3">20.3</td>
                                <td class="px-4 py-3">22.7</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">一般公共预算收入(亿元)</td>
                                <td class="px-4 py-3">2.8</td>
                                <td class="px-4 py-3">3.2</td>
                                <td class="px-4 py-3">3.6</td>
                            </tr>

                            <!-- 经济增长速度 -->
                            <tr>
                                <td rowspan="5" class="px-4 py-3">经济增长速度</td>
                                <td class="px-4 py-3">固定资产投资增速(%)</td>
                                <td class="px-4 py-3">5.8</td>
                                <td class="px-4 py-3">6.2</td>
                                <td class="px-4 py-3">6.5</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">规模以上工业增加值增速(%)</td>
                                <td class="px-4 py-3">6.2</td>
                                <td class="px-4 py-3">6.8</td>
                                <td class="px-4 py-3">7.2</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">城镇居民人均可支配收入增速(%)</td>
                                <td class="px-4 py-3">7.5</td>
                                <td class="px-4 py-3">8.0</td>
                                <td class="px-4 py-3">8.3</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">地区生产总值增速(%)</td>
                                <td class="px-4 py-3">6.5</td>
                                <td class="px-4 py-3">6.8</td>
                                <td class="px-4 py-3">7.2</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">农村居民人均可支配收入增速(%)</td>
                                <td class="px-4 py-3">8.2</td>
                                <td class="px-4 py-3">8.5</td>
                                <td class="px-4 py-3">8.8</td>
                            </tr>

                            <!-- 产业结构升级 -->
                            <tr>
                                <td rowspan="3" class="px-4 py-3">产业结构升级</td>
                                <td class="px-4 py-3">服务业增加值(亿元)</td>
                                <td class="px-4 py-3">16.8</td>
                                <td class="px-4 py-3">18.5</td>
                                <td class="px-4 py-3">21.2</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">农业产业化经营率(%)</td>
                                <td class="px-4 py-3">52.5</td>
                                <td class="px-4 py-3">55.8</td>
                                <td class="px-4 py-3">58.3</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">服务业增加值占GDP比重(%)</td>
                                <td class="px-4 py-3">39.3</td>
                                <td class="px-4 py-3">40.6</td>
                                <td class="px-4 py-3">42.7</td>
                            </tr>

                            <!-- 人均可支配收入 -->
                            <tr>
                                <td rowspan="2" class="px-4 py-3">人均可支配收入</td>
                                <td class="px-4 py-3">农村居民人均可支配收入(元)</td>
                                <td class="px-4 py-3">18450</td>
                                <td class="px-4 py-3">20018</td>
                                <td class="px-4 py-3">21780</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-3">城镇居民人均可支配收入(元)</td>
                                <td class="px-4 py-3">38750</td>
                                <td class="px-4 py-3">41850</td>
                                <td class="px-4 py-3">45320</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="charts-display" class="glass-effect p-6 hidden fade-in">
                <div class="flex items-center mb-4">
                    <div
                        class="h-8 w-8 rounded-full bg-gradient-to-r from-blue-400 to-teal-400 flex items-center justify-center mr-3">
                        <i class="fas fa-chart-pie text-white"></i>
                    </div>
                    <h2 class="text-xl font-semibold text-white">数据可视化分析</h2>
                </div>

                <div class="flex mb-4 border-b border-blue-700">
                    <button class="chart-tab active py-2 px-4 text-sm font-medium focus:outline-none"
                        data-target="gdp-chart">
                        地区生产总值分析
                    </button>
                    <button class="chart-tab py-2 px-4 text-sm font-medium text-gray-300 focus:outline-none"
                        data-target="income-chart">
                        居民收入分析
                    </button>
                    <button class="chart-tab py-2 px-4 text-sm font-medium text-gray-300 focus:outline-none"
                        data-target="industry-chart">
                        产业结构分析
                    </button>
                    <button class="chart-tab py-2 px-4 text-sm font-medium text-gray-300 focus:outline-none"
                        data-target="growth-chart">
                        增速对比分析
                    </button>
                </div>

                <div class="chart-panels">
                    <div id="gdp-chart" class="chart-panel">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">地区生产总值趋势(亿元)</h3>
                                <div class="chart-container">
                                    <canvas id="gdpTrendChart"></canvas>
                                </div>
                            </div>
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">地区生产总值构成(2023年)</h3>
                                <div class="chart-container">
                                    <canvas id="gdpCompositionChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="income-chart" class="chart-panel hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">城乡收入对比(元)</h3>
                                <div class="chart-container">
                                    <canvas id="incomeComparisonChart"></canvas>
                                </div>
                            </div>
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">居民收入增长率(%)</h3>
                                <div class="chart-container">
                                    <canvas id="incomeGrowthChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="industry-chart" class="chart-panel hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">产业结构变化(%)</h3>
                                <div class="chart-container">
                                    <canvas id="industryStructureChart"></canvas>
                                </div>
                            </div>
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">农业产业化经营率变化(%)</h3>
                                <div class="chart-container">
                                    <canvas id="agricultureRateChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="growth-chart" class="chart-panel hidden">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">各项增速对比(2023年)</h3>
                                <div class="chart-container">
                                    <canvas id="growthComparisonChart"></canvas>
                                </div>
                            </div>
                            <div class="dashboard-card bg-opacity-20 bg-blue-800 p-4 rounded-lg">
                                <h3 class="text-sm font-medium text-blue-300 mb-2">固定资产投资与GDP增速关系</h3>
                                <div class="chart-container">
                                    <canvas id="investmentGdpChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 聊天交互区域 -->
        <div class="glass-effect rounded-lg overflow-hidden fade-in">
            <div class="p-4 bg-opacity-20 bg-blue-800 border-b border-blue-700">
                <div class="flex items-center">
                    <div
                        class="h-8 w-8 rounded-full bg-gradient-to-r from-blue-400 to-teal-400 flex items-center justify-center mr-3">
                        <i class="fas fa-comments text-white"></i>
                    </div>
                    <h2 class="text-lg font-medium text-white">智能助手对话</h2>
                </div>
            </div>

            <div id="chat-history" class="h-64 overflow-y-auto p-4 space-y-4">
                <div class="flex items-start">
                    <div class="flex-shrink-0 h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center">
                        <i class="fas fa-robot text-white text-sm"></i>
                    </div>
                    <div class="ml-3 bg-opacity-20 bg-blue-700 rounded-lg py-2 px-4 max-w-3xl">
                        <p class="text-sm text-gray-200">您好！我是乡村振兴智能分析师，请输入您的分析需求或上传乡村振兴相关数据，我将为您提供专业分析和建议。</p>
                    </div>
                </div>
            </div>

            <div class="chat-input-area p-4 bg-opacity-20 bg-blue-800">
                <div class="flex items-center">
                    <input id="chat-input" type="text"
                        class="flex-1 bg-blue-900 bg-opacity-50 text-white border border-blue-700 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                        placeholder="请输入您的问题...">
                    <button id="send-button"
                        class="ml-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg px-4 py-2 transition-all flex items-center justify-center">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-blue-900 bg-opacity-50 py-6 mt-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <p class="text-sm text-blue-300">© 2023 乡村振兴智能体分析平台 · 版权所有</p>
                </div>
                <div class="flex space-x-6">
                    <a href="#" class="text-blue-300 hover:text-white transition-colors">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="#" class="text-blue-300 hover:text-white transition-colors">
                        <i class="fas fa-book-open"></i>
                    </a>
                    <a href="#" class="text-blue-300 hover:text-white transition-colors">
                        <i class="fas fa-envelope"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // 模拟API调用函数
        function simulateApiCall(data, delay) {
            return new Promise(resolve => {
                setTimeout(() => resolve(data), delay);
            });
        }

        // 打字机效果函数
        function typeWriter(element, text, speed = 30) {
            return new Promise(resolve => {
                let i = 0;
                element.innerHTML = '';
                element.classList.add('typing-effect');

                function type() {
                    if (i < text.length) {
                        element.innerHTML += text.charAt(i);
                        i++;
                        setTimeout(type, speed);
                    } else {
                        element.classList.remove('typing-effect');
                        resolve();
                    }
                }

                type();
            });
        }

        // 初始化图表
        function initializeCharts() {
            // GDP趋势图
            const gdpTrendChart = new Chart(document.getElementById('gdpTrendChart'), {
                type: 'line',
                data: {
                    labels: ['2021', '2022', '2023'],
                    datasets: [{
                        label: '地区生产总值(亿元)',
                        data: [42.8, 45.6, 49.7],
                        borderColor: '#2a93d5',
                        backgroundColor: 'rgba(42, 147, 213, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });

            // GDP构成饼图
            const gdpCompositionChart = new Chart(document.getElementById('gdpCompositionChart'), {
                type: 'doughnut',
                data: {
                    labels: ['第一产业', '第二产业', '第三产业'],
                    datasets: [{
                        data: [17.8, 10.7, 21.2],
                        backgroundColor: ['#4bc0c0', '#ff6384', '#36a2eb'],
                        borderColor: 'rgba(255, 255, 255, 0.2)',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    }
                }
            });

            // 城乡收入对比图
            const incomeComparisonChart = new Chart(document.getElementById('incomeComparisonChart'), {
                type: 'bar',
                data: {
                    labels: ['2021', '2022', '2023'],
                    datasets: [
                        {
                            label: '农村居民人均可支配收入',
                            data: [18450, 20018, 21780],
                            backgroundColor: 'rgba(75, 192, 192, 0.7)',
                            borderColor: 'rgb(75, 192, 192)',
                            borderWidth: 1
                        },
                        {
                            label: '城镇居民人均可支配收入',
                            data: [38750, 41850, 45320],
                            backgroundColor: 'rgba(54, 162, 235, 0.7)',
                            borderColor: 'rgb(54, 162, 235)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });

            // 收入增长率图
            const incomeGrowthChart = new Chart(document.getElementById('incomeGrowthChart'), {
                type: 'line',
                data: {
                    labels: ['2021', '2022', '2023'],
                    datasets: [
                        {
                            label: '农村居民收入增速',
                            data: [8.2, 8.5, 8.8],
                            borderColor: '#4bc0c0',
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: '城镇居民收入增速',
                            data: [7.5, 8.0, 8.3],
                            borderColor: '#36a2eb',
                            backgroundColor: 'rgba(54, 162, 235, 0.2)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });

            // 产业结构变化图
            const industryStructureChart = new Chart(document.getElementById('industryStructureChart'), {
                type: 'line',
                data: {
                    labels: ['2021', '2022', '2023'],
                    datasets: [
                        {
                            label: '第一产业占比',
                            data: [35.5, 35.9, 35.8],
                            borderColor: '#4bc0c0',
                            backgroundColor: 'transparent',
                            tension: 0.4
                        },
                        {
                            label: '第二产业占比',
                            data: [25.2, 23.5, 21.5],
                            borderColor: '#ff6384',
                            backgroundColor: 'transparent',
                            tension: 0.4
                        },
                        {
                            label: '第三产业占比',
                            data: [39.3, 40.6, 42.7],
                            borderColor: '#36a2eb',
                            backgroundColor: 'transparent',
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });

            // 农业产业化经营率图
            const agricultureRateChart = new Chart(document.getElementById('agricultureRateChart'), {
                type: 'bar',
                data: {
                    labels: ['2021', '2022', '2023'],
                    datasets: [{
                        label: '农业产业化经营率(%)',
                        data: [52.5, 55.8, 58.3],
                        backgroundColor: 'rgba(75, 192, 192, 0.7)',
                        borderColor: '#4bc0c0',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    scales: {
                        y: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });

            // 各项增速对比图
            const growthComparisonChart = new Chart(document.getElementById('growthComparisonChart'), {
                type: 'radar',
                data: {
                    labels: ['GDP增速', '固定资产投资增速', '工业增加值增速', '城镇居民收入增速', '农村居民收入增速'],
                    datasets: [{
                        label: '2023年各项增速(%)',
                        data: [7.2, 6.5, 7.2, 8.3, 8.8],
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: '#36a2eb',
                        pointBackgroundColor: '#36a2eb',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#36a2eb'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: {
                            borderWidth: 3
                        }
                    },
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    scales: {
                        r: {
                            angleLines: {
                                color: 'rgba(255, 255, 255, 0.2)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.2)'
                            },
                            pointLabels: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            ticks: {
                                backdropColor: 'transparent',
                                color: 'rgba(255, 255, 255, 0.7)'
                            }
                        }
                    }
                }
            });

            // 固定资产投资与GDP增速关系图
            const investmentGdpChart = new Chart(document.getElementById('investmentGdpChart'), {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: '固定资产投资与GDP增速关系',
                        data: [
                            { x: 5.8, y: 6.5 },
                            { x: 6.2, y: 6.8 },
                            { x: 6.5, y: 7.2 }
                        ],
                        backgroundColor: 'rgba(75, 192, 192, 0.8)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            labels: {
                                color: 'rgba(255, 255, 255, 0.8)'
                            }
                        }
                    },
                    scales: {
                        y: {
                            title: {
                                display: true,
                                text: 'GDP增速(%)',
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: '固定资产投资增速(%)',
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            ticks: {
                                color: 'rgba(255, 255, 255, 0.7)'
                            },
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            }
                        }
                    }
                }
            });
        }

        // 图表标签切换
        function setupChartTabs() {
            const tabs = document.querySelectorAll('.chart-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // 移除所有活动状态
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    // 隐藏所有面板
                    document.querySelectorAll('.chart-panel').forEach(panel => {
                        panel.classList.add('hidden');
                    });

                    // 显示目标面板
                    const target = tab.getAttribute('data-target');
                    document.getElementById(target).classList.remove('hidden');
                });
            });
        }

        // 添加聊天消息
        function addChatMessage(sender, message, isUser = false) {
            const chatHistory = document.getElementById('chat-history');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'flex items-start fade-in';

            const iconClass = isUser ? 'fas fa-user' : 'fas fa-robot';
            const bgClass = isUser ? 'bg-blue-600' : 'bg-blue-500';
            const messageBgClass = isUser ? 'bg-blue-600 bg-opacity-50' : 'bg-blue-700 bg-opacity-20';

            messageDiv.innerHTML = `
                <div class="flex-shrink-0 h-8 w-8 rounded-full ${bgClass} flex items-center justify-center">
                    <i class="${iconClass} text-white text-sm"></i>
                </div>
                <div class="ml-3 ${messageBgClass} rounded-lg py-2 px-4 max-w-3xl">
                    <p class="text-sm text-gray-200">${message}</p>
                </div>
            `;

            chatHistory.appendChild(messageDiv);
            chatHistory.scrollTop = chatHistory.scrollHeight;
            return messageDiv.querySelector('p');
        }

        // 模拟用户输入
        function simulateUserInput(text) {
            return new Promise(resolve => {
                const inputField = document.getElementById('chat-input');
                let i = 0;

                function type() {
                    if (i < text.length) {
                        inputField.value = text.substring(0, i + 1);
                        i++;
                        setTimeout(type, 50);
                    } else {
                        setTimeout(() => {
                            addChatMessage('用户', text, true);
                            inputField.value = '';
                            resolve();
                        }, 500);
                    }
                }

                type();
            });
        }

        // 主流程函数
        async function runDemonstration() {
            // 第一步：模拟智能体返回分析文字
            const analysisText = `【碧水村发展分析报告】\n\n根据提供的2021-2023年经济数据，碧水村整体呈现稳步发展态势，具体分析如下：\n\n1. 经济总量持续增长：地区生产总值从2021年的42.8亿元增长到2023年的49.7亿元，三年复合增长率达到7.7%，高于全国农村平均水平。\n\n2. 产业结构优化：服务业增加值占GDP比重从2021年的39.3%提升至2023年的42.7%，产业结构持续优化。农业产业化经营率提高到58.3%，表明农业现代化水平不断提升。\n\n3. 民生福祉改善：农村居民人均可支配收入增速连续三年保持在8.2%-8.8%，高于城镇居民收入增速，城乡收入差距逐步缩小，但绝对差距仍然明显。\n\n4. 投资拉动明显：固定资产投资增速保持在6%左右，与GDP增速正相关，说明投资对经济增长的拉动作用显著。\n\n发展建议：\n1. 进一步提升农业产业化水平，发展特色农产品加工业\n2. 加强乡村旅游等服务业发展，提升第三产业比重\n3. 完善农村基础设施建设，吸引更多固定资产投资\n4. 实施技能培训计划，提高农村劳动力素质，增加农民收入`;

            const analysisElement = document.getElementById('analysis-text');

            await simulateApiCall(null, 1000); // 模拟API请求延迟
            document.getElementById('analysis-loader').classList.add('hidden'); // 隐藏加载动画
            await typeWriter(analysisElement, analysisText, 10);

            // 第二步：展示原始数据表格
            await simulateApiCall(null, 1000);
            document.getElementById('data-display').classList.remove('hidden');

            // 第三步：生成并展示图表
            await simulateApiCall(null, 1500);
            document.getElementById('charts-display').classList.remove('hidden');
            initializeCharts();
            setupChartTabs();

            // 第四步：模拟用户提问并智能体回答
            await simulateApiCall(null, 3000);
            await simulateUserInput("碧水村的农村居民收入增速为什么高于城镇居民？");

            // 模拟智能体回答
            const responseText = "根据分析数据，碧水村农村居民收入增速高于城镇居民的主要原因有：\n\n1. 政策倾斜：乡村振兴战略实施后，针对农村的扶持政策增加，包括农业补贴、创业扶持等政策红利更多惠及农村居民\n\n2. 产业化效应：农业产业化经营率从2021年的52.5%提高到2023年的58.3%，带动了农业效益提升，增加了农民收入\n\n3. 基数效应：农村居民人均可支配收入基数较低（2023年为21780元，仅为城镇居民的48%），相同增量下增速自然更高\n\n4. 多元增收：农村二三产业发展为农民提供了更多元的增收渠道，如乡村旅游、农产品加工等\n\n需注意的是，尽管增速更高，但城乡居民收入的绝对差距仍较大，仍需继续推进城乡融合发展，促进共同富裕";

            const responseElement = addChatMessage('智能助手', '');

            // 模拟思考
            const thinkingDiv = document.createElement('div');
            thinkingDiv.className = 'flex mt-2';
            thinkingDiv.innerHTML = '<div class="loader mr-2"></div><p class="text-sm text-blue-300">正在分析数据...</p>';
            responseElement.parentNode.appendChild(thinkingDiv);

            await simulateApiCall(null, 2000);
            thinkingDiv.remove();
            await typeWriter(responseElement, responseText, 10);

            // 设置发送按钮事件
            document.getElementById('send-button').addEventListener('click', async () => {
                const input = document.getElementById('chat-input');
                const message = input.value.trim();

                if (message) {
                    addChatMessage('用户', message, true);
                    input.value = '';

                    // 显示思考状态
                    const responseElement = addChatMessage('智能助手', '');
                    const thinkingDiv = document.createElement('div');
                    thinkingDiv.className = 'flex mt-2';
                    thinkingDiv.innerHTML = '<div class="loader mr-2"></div><p class="text-sm text-blue-300">正在分析数据...</p>';
                    responseElement.parentNode.appendChild(thinkingDiv);

                    // 模拟API响应
                    await simulateApiCall(null, 2000);
                    thinkingDiv.remove();

                    // 根据用户问题生成回复
                    let response = "我已分析您的问题，根据碧水村的数据，";

                    if (message.includes("建议") || message.includes("措施")) {
                        response += "建议采取以下措施促进乡村进一步发展：\n\n1. 加强农产品品牌建设，提高农产品附加值\n2. 发展乡村特色旅游，带动服务业发展\n3. 完善农村基础设施，提高农村生活品质\n4. 加强职业技能培训，提升劳动力素质\n5. 推动农村电商发展，拓宽销售渠道";
                    } else if (message.includes("产业") || message.includes("结构")) {
                        response += "碧水村产业结构分析如下：\n\n1. 三年间第三产业占比从39.3%提升至42.7%，服务业逐渐成为重要增长点\n2. 第一产业占比基本稳定在35%左右，但质量和效益有所提升\n3. 第二产业占比下降明显，从25.2%降至21.5%，表明产业升级转型正在进行\n4. 建议发展特色农产品加工，促进一二三产融合发展";
                    } else {
                        response += "根据2021-2023年数据，碧水村经济发展态势良好。地区生产总值年增长率保持在7%左右，农村居民收入增速超过8.5%，农业产业化经营率提升明显，服务业占比提高3.4个百分点。这表明乡村振兴战略实施成效显著，但仍需加强城乡融合发展，进一步缩小城乡收入差距。";
                    }

                    await typeWriter(responseElement, response, 10);
                }
            });

            // Enter键发送消息
            document.getElementById('chat-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    document.getElementById('send-button').click();
                }
            });
        }

        // 页面加载完成后执行演示
        window.addEventListener('DOMContentLoaded', runDemonstration);
    </script>
</body>

</html>